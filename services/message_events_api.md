# Group Message Events

The Message Events API provides the means to search the raw events generated by SparkPost.

## Copyrights

Copyright (c) 2008 MaxMind, Inc. All Rights Reserved.

All advertising materials and documentation mentioning features or use of this database must display the following acknowledgment: "This product includes GeoLite data created by MaxMind, available from http://maxmind.com/"

Redistribution and use with or without modification, are permitted provided that the following conditions are met:

1. Redistributions must retain the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

2. All advertising materials and documentation mentioning features or use of this database must display the following acknowledgement: "This product includes GeoLite data created by MaxMind, available from http://maxmind.com/"

3. "MaxMind" may not be used to endorse or promote products derived from this database without specific prior written permission.

THIS DATABASE IS PROVIDED BY MAXMIND, INC "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL MAXMIND BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS DATABASE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.


## Message Events [/message-events?bounce_classes,campaign_ids,events,friendly_froms,from,message_ids,page,per_page,reason,recipients,template_ids,timezone,to,transmission_ids]

### Search for Message Events [GET]

Perform a filtered search for message event data. The response is sorted by descending timestamp.

+ Parameters
    + bounce_classes (optional, number, `1`) ... Comma-delimited list of bounce classification codes to search. (See [Bounce Classification Codes.](https://www.sparkpost.com/docs/bounce-classification-codes))
    + campaign_ids (optional, string, `Example Campaign Name`) ... Comma-delimited list of campaign ID's to search (i.e. campaign_id used during creation of a transmission).
    + events (optional, list, `delivery, injection, bounce, delay, policy_rejection, out_of_band, open, click, generation_failure, generation_rejection, spam_complaint, list_unsubscribe, link_unsubscribe, relay_delivery, relay_injection, relay_permfail, relay_rejection, relay_tempfail`) ... Comma-delimited list of event types to search. Defaults to all event types.
    + friendly_froms (optional, list, `sender@mail.example.com`) ... Comma-delimited list of friendly_froms to search.
    + from = `One hour ago` (optional, datetime, `2014-07-20T08:00`) ... Datetime in format of YYYY-MM-DDTHH:MM.
    + message_ids (optional, list, `0e0d94b7-9085-4e3c-ab30-e3f2cd9c273e`) ... Comma-delimited list of message ID's to search.
    + page = `1` (optional, number, `25`) ... The results page number to return. Used with per_page for paging through results.
    + per_page = `1000` (optional, number, `100`) ... Number of results to return per page. Must be between 1 and 10,000 (inclusive).
    + reason (optional, string, `bounce`) ... Bounce/failure/rejection reason that will be matched using a wildcard (e.g., %reason%).
    + recipients (optional, list, `recipient@example.com`) ... Comma-delimited list of recipients to search.
    + template_ids (optional, list, `templ-1234`) ... Comma-delimited list of template ID's to search.
    + timezone =`UTC` (optional, string, `America/New_York`) ... Standard timezone identification string.
    + to = `now` (optional, datetime, `2014-07-20T09:00`) ... Datetime in format of YYYY-MM-DDTHH:MM.
    + transmission_ids (optional, list, `65832150921904138`) ... Comma-delimited list of transmission ID's to search (i.e. id generated during creation of a transmission).

+ Request

  + Headers

      Accept: application/json
      Authorization: 14ac5499cfdd2bb2859e4476d2e5b1d2bad079bf

+ Response 200 (application/json)
  ```
  {
    "results": [
      {
        "type": "bounce",
        "bounce_class": "1",
        "campaign_id": "Example Campaign Name",
        "customer_id": "1",
        "error_code": "554",
        "ip_address": "127.0.0.1",
        "message_id": "0e0d94b7-9085-4e3c-ab30-e3f2cd9c273e",
        "msg_from": "sender@example.com",
        "msg_size": "1337",
        "num_retries": "2",
        "rcpt_meta": {
          "key1": "value1",
          "key2": "value2"
        },
        "rcpt_tags": [
          "male",
          "US"
        ],
        "rcpt_to": "recipient@example.com",
        "reason": "000 Example Remote MTA Bounce Message",
        "routing_domain": "example.com",
        "template_id": "templ-1234",
        "template_version": "1",
        "timestamp": "2014-07-20T08:01-00:00",
        "transmission_id": "65832150921904138"
      },
      {
        "type": "delivery",
        "campaign_id": "Example Campaign Name",
        "customer_id": "1",
        "ip_address": "127.0.0.1",
        "message_id": "0e0d94b7-9085-4e3c-ab30-e3f2cd9c273e",
        "msg_from": "sender@example.com",
        "msg_size": "1337",
        "num_retries": "2",
        "queue_time": "12",
        "rcpt_meta": {
          "key1": "value1",
          "key2": "value2"
        },
        "rcpt_tags": [
          "male",
          "US"
        ],
        "rcpt_to": "recipient@example.com",
        "routing_domain": "example.com",
        "template_id": "templ-1234",
        "template_version": "1",
        "timestamp": "2014-07-20T08:01-00:00",
        "transmission_id": "65832150921904138"
      },
      {
        "type": "injection",
        "campaign_id": "Example Campaign Name",
        "customer_id": "1",
        "message_id": "0e0d94b7-9085-4e3c-ab30-e3f2cd9c273e",
        "msg_from": "sender@example.com",
        "msg_size": "1337",
        "rcpt_meta": {
          "key1": "value1",
          "key2": "value2"
        },
        "rcpt_tags": [
          "male",
          "US"
        ],
        "rcpt_to": "recipient@example.com",
        "routing_domain": "example.com",
        "template_id": "templ-1234",
        "template_version": "1",
        "timestamp": "2014-07-20T08:01-00:00",
        "transmission_id": "65832150921904138"
      },
      {
        "type": "spam_complaint",
        "campaign_id": "Example Campaign Name",
        "customer_id": "1",
        "fbtype": "abuse",
        "message_id": "0e0d94b7-9085-4e3c-ab30-e3f2cd9c273e",
        "rcpt_meta": {
          "key1": "value1",
          "key2": "value2"
        },
        "rcpt_to": "recipient@example.com",
        "report_by": "server.email.com",
        "report_to": "abuse.example.com",
        "template_id": "templ-1234",
        "timestamp": "2014-07-20T08:01-00:00",
        "user_str": "Additional Example Information"
      },
      {
        "type": "out_of_band",
        "bounce_class": "1",
        "campaign_id": "Example Campaign Name",
        "customer_id": "1",
        "error_code": "554",
        "message_id": "0e0d94b7-9085-4e3c-ab30-e3f2cd9c273e",
        "msg_from": "sender@example.com",
        "rcpt_to": "recipient@example.com",
        "reason": "000 Example Remote MTA Bounce Message",
        "routing_domain": "example.com",
        "template_id": "templ-1234",
        "template_version": "1",
        "timestamp": 1427736822
      },
      {
        "type": "policy_rejection",
        "campaign_id": "Example Campaign Name",
        "customer_id": "1",
        "error_code": "554",
        "message_id": "0e0d94b7-9085-4e3c-ab30-e3f2cd9c273e",
        "msg_from": "sender@example.com",
        "rcpt_meta": {
          "key1": "value1",
          "key2": "value2"
        },
        "rcpt_tags": [
          "male",
          "US"
        ],
        "rcpt_to": "recipient@example.com",
        "reason": "000 Example Remote MTA Bounce Message",
        "remote_addr": "127.0.0.1",
        "template_id": "templ-1234",
        "template_version": "1",
        "timestamp": "2014-07-20T08:01-00:00",
        "transmission_id": "65832150921904138"
      },
      {
        "type": "delay",
        "bounce_class": "1",
        "campaign_id": "Example Campaign Name",
        "customer_id": "1",
        "error_code": "554",
        "ip_address": "127.0.0.1",
        "message_id": "0e0d94b7-9085-4e3c-ab30-e3f2cd9c273e",
        "msg_from": "sender@example.com",
        "msg_size": "1337",
        "num_retries": "2",
        "queue_time": "12",
        "rcpt_meta": {
          "key1": "value1",
          "key2": "value2"
        },
        "rcpt_tags": [
          "male",
          "US"
        ],
        "rcpt_to": "recipient@example.com",
        "reason": "000 Example Remote MTA Bounce Message",
        "routing_domain": "example.com",
        "template_id": "templ-1234",
        "template_version": "1",
        "timestamp": "2014-07-20T08:01-00:00",
        "transmission_id": "65832150921904138"
      },
      {
        "type": "click",
        "campaign_id": "Example Campaign Name",
        "customer_id": "1",
        "ip_address": "127.0.0.1",
        "message_id": "0e0d94b7-9085-4e3c-ab30-e3f2cd9c273e",
        "rcpt_meta": {
          "key1": "value1",
          "key2": "value2"
        },
        "rcpt_tags": [
          "male",
          "US"
        ],
        "rcpt_to": "recipient@example.com",
        "target_link_name": "Example Link Name",
        "target_link_url": "http://example.com",
        "template_id": "templ-1234",
        "template_version": "1",
        "timestamp": "2014-07-20T08:01-00:00",
        "transmission_id": "65832150921904138",
        "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.118 Safari/537.36",
        "geo_ip": {
          "country": "US",
          "region": "MD",
          "city": "Columbia",
          "latitude": "39.1749",
          "longitude": "-76.8375"
        }
      },
      {
        "type": "open",
        "campaign_id": "Example Campaign Name",
        "customer_id": "1",
        "ip_address": "127.0.0.1",
        "message_id": "0e0d94b7-9085-4e3c-ab30-e3f2cd9c273e",
        "rcpt_meta": {
          "key1": "value1",
          "key2": "value2"
        },
        "rcpt_tags": [
          "male",
          "US"
        ],
        "rcpt_to": "recipient@example.com",
        "template_id": "templ-1234",
        "template_version": "1",
        "timestamp": "2014-07-20T08:01-00:00",
        "transmission_id": "65832150921904138",
        "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.118 Safari/537.36",
        "geo_ip": {
          "country": "US",
          "region": "MD",
          "city": "Columbia",
          "latitude": "39.1749",
          "longitude": "-76.8375"
        }
      },
      {
        "type": "generation_failure",
        "campaign_id": "Example Campaign Name",
        "customer_id": "1",
        "error_code": "554",
        "rcpt_meta": {
          "key1": "value1",
          "key2": "value2"
        },
        "rcpt_subs": {},
        "rcpt_tags": [
          "male",
          "US"
        ],
        "rcpt_to": "recipient@example.com",
        "reason": "000 Example Remote MTA Bounce Message",
        "routing_domain": "example.com",
        "template_id": "templ-1234",
        "template_version": "1",
        "timestamp": "2014-07-20T08:01-00:00",
        "transmission_id": "65832150921904138"
      },
      {
        "type": "generation_rejection",
        "campaign_id": "Example Campaign Name",
        "customer_id": "1",
        "error_code": "554",
        "rcpt_meta": {
          "key1": "value1",
          "key2": "value2"
        },
        "rcpt_subs": {},
        "rcpt_tags": [
          "male",
          "US"
        ],
        "rcpt_to": "recipient@example.com",
        "reason": "000 Example Remote MTA Bounce Message",
        "routing_domain": "example.com",
        "template_id": "templ-1234",
        "template_version": "1",
        "timestamp": "2014-07-20T08:01-00:00",
        "transmission_id": "65832150921904138"
      },
      {
        "type": "list_unsubscribe",
        "campaign_id": "Example Campaign Name",
        "customer_id": "1",
        "mailfrom": "recipient@example.com",
        "message_id": "0e0d94b7-9085-4e3c-ab30-e3f2cd9c273e",
        "rcpt_meta": {
          "key1": "value1",
          "key2": "value2"
        },
        "rcpt_tags": [
          "male",
          "US"
        ],
        "rcpt_to": "recipient@example.com",
        "template_id": "templ-1234",
        "template_version": "1",
        "timestamp": "2014-07-20T08:01-00:00",
        "transmission_id": "65832150921904138"
      },
      {
        "type": "link_unsubscribe",
        "campaign_id": "Example Campaign Name",
        "customer_id": "1",
        "mailfrom": "recipient@example.com",
        "message_id": "0e0d94b7-9085-4e3c-ab30-e3f2cd9c273e",
        "rcpt_meta": {
          "key1": "value1",
          "key2": "value2"
        },
        "rcpt_tags": [
          "male",
          "US"
        ],
        "rcpt_to": "recipient@example.com",
        "template_id": "templ-1234",
        "template_version": "1",
        "timestamp": "2014-07-20T08:01-00:00",
        "transmission_id": "65832150921904138",
        "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.118 Safari/537.36"
      },
      {
        "type": "relay_injection",
        "rcpt_to": "recipient@example.com",
        "msg_size": "1337",
        "routing_domain": "example.com",
        "customer_id": "1",
        "timestamp": "2014-07-20T08:01-00:00",
        "msg_from": "sender@example.com",
        "relay_id": "123-456-789"
      },
      {
        "type": "relay_rejection",
        "reason": "000 Example Remote MTA Bounce Message",
        "rcpt_to": "recipient@example.com",
        "error_code": "554",
        "msg_from": "sender@example.com",
        "remote_addr": "127.0.0.1",
        "timestamp": "2014-07-20T08:01-00:00",
        "customer_id": "1",
        "relay_id": "123-456-789"
      },
      {
        "type": "relay_delivery",
        "routing_domain": "example.com",
        "msg_from": "sender@example.com",
        "queue_time": "12",
        "customer_id": "1",
        "timestamp": "2014-07-20T08:01-00:00",
        "num_retries": "2",
        "relay_id": "123-456-789"
      },
      {
        "type": "relay_tempfail",
        "routing_domain": "example.com",
        "msg_from": "sender@example.com",
        "queue_time": "12",
        "customer_id": "1",
        "timestamp": "2014-07-20T08:01-00:00",
        "num_retries": "2",
        "reason": "000 Example Remote MTA Bounce Message",
        "error_code": "554",
        "relay_id": "123-456-789"
      },
      {
        "type": "relay_permfail",
        "routing_domain": "example.com",
        "msg_from": "sender@example.com",
        "queue_time": "12",
        "customer_id": "1",
        "timestamp": "2014-07-20T08:01-00:00",
        "num_retries": "2",
        "reason": "000 Example Remote MTA Bounce Message",
        "error_code": "554",
        "relay_id": "123-456-789"
      }
    ],
    "total_count": 1000,
    "links": [
      { 
        "href": "http://example.com/api/v1/message-events?page=1&per_page=10",
        "rel": "first"
      }, {
        "href": "http://example.com/api/v1/xyz?page=50&per_page=10",
        "rel": "previous"
      }, {
        "href": "http://example.com/api/v1/xyz?page=52&per_page=10",
        "rel": "next"
      }, {
        "href": "http://example.com/api/v1/xyz?page=100&per_page=10",
        "rel": "last"
      }    
    ]
  }
  ```
